From: commit 23c978640812d123eaffd4108744bdfcf48f7c93
Author: Werner Koch <wk@gnupg.org>
Date:   Thu Jul 4 15:45:39 2019 +0200
Description: gpg: Add "self-sigs-only" and "import-clean" to the keyserver options.
    
    * g10/gpg.c (main): Change default.
    --
    
    Due to the DoS attack on the keyeservers we do not anymore default to
    import key signatures.  That makes the keyserver unsuable for getting
    keys for the WoT but it still allows to retriev keys - even if that
    takes long to download the large keyblocks.
    
    To revert to the old behavior add
    
      keyserver-optiions  no-self-sigs-only,no-import-clean
    
    to gpg.conf.
    
    GnuPG-bug-id: 4607
    Signed-off-by: Werner Koch <wk@gnupg.org>

Index: gnupg2-2.2.4/doc/gpg.texi
===================================================================
--- gnupg2-2.2.4.orig/doc/gpg.texi
+++ gnupg2-2.2.4/doc/gpg.texi
@@ -1915,6 +1915,11 @@ are available for all keyserver types, s
 
 @end table
 
+The default list of options is: "self-sigs-only, import-clean,
+repair-keys, repair-pks-subkey-bug, export-attributes,
+honor-pka-record".
+
+
 @item --completes-needed @var{n}
 @opindex compliant-needed
 Number of completely trusted users to introduce a new
Index: gnupg2-2.2.4/g10/gpg.c
===================================================================
--- gnupg2-2.2.4.orig/g10/gpg.c
+++ gnupg2-2.2.4/g10/gpg.c
@@ -2365,7 +2365,9 @@ main (int argc, char **argv)
     opt.import_options = IMPORT_REPAIR_KEYS;
     opt.export_options = EXPORT_ATTRIBUTES;
     opt.keyserver_options.import_options = (IMPORT_REPAIR_KEYS
-					    | IMPORT_REPAIR_PKS_SUBKEY_BUG);
+					    | IMPORT_REPAIR_PKS_SUBKEY_BUG
+                                            | IMPORT_SELF_SIGS_ONLY
+                                            | IMPORT_CLEAN);
     opt.keyserver_options.export_options = EXPORT_ATTRIBUTES;
     opt.keyserver_options.options = KEYSERVER_HONOR_PKA_RECORD;
     opt.verify_options = (LIST_SHOW_UID_VALIDITY
